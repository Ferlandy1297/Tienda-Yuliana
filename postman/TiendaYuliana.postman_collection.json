{
  "info": {
    "_postman_id": "c0f0b0c8-3b2f-4d5e-9a1d-ty-col-001",
    "name": "Tienda Yuliana Backend",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Colecci칩n para probar el backend de Tienda Yuliana"
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Login",
          "auth": { "type": "noauth" },
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{baseUrl}}/auth/login", "host": ["{{baseUrl}}"], "path": ["auth","login"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"admin\",\n  \"password\": \"admin\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "if (res && res.token) { pm.environment.set('token', res.token); }",
                  "pm.test('Login exitoso', function () { pm.response.to.have.status(200); });"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Dashboard",
      "item": [
        {
          "name": "Resumen de Hoy",
          "auth": { "type": "noauth" },
          "request": {
            "method": "GET",
            "header": [],
            "url": { "raw": "{{baseUrl}}/dashboard/summary", "host": ["{{baseUrl}}"], "path": ["dashboard","summary"] }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Productos",
      "item": [
        {
          "name": "Listar",
          "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/productos", "host": ["{{baseUrl}}"], "path": ["productos"] } },
          "response": []
        },
        {
          "name": "Obtener por ID",
          "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/productos/1", "host": ["{{baseUrl}}"], "path": ["productos","1"] } },
          "response": []
        },
        {
          "name": "Crear (ADMIN)",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "url": { "raw": "{{baseUrl}}/productos", "host": ["{{baseUrl}}"], "path": ["productos"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Nuevo Producto\",\n  \"codigoBarras\": \"750000009999\",\n  \"precioUnitario\": 10.50,\n  \"stockActual\": 20,\n  \"stockMinimo\": 5,\n  \"idProveedor\": 1,\n  \"activo\": true\n}"
            }
          },
          "response": []
        },
        {
          "name": "Actualizar",
          "request": {
            "method": "PUT",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "url": { "raw": "{{baseUrl}}/productos/1", "host": ["{{baseUrl}}"], "path": ["productos","1"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Producto Editado\",\n  \"codigoBarras\": \"750000000001\",\n  \"precioUnitario\": 20.00,\n  \"stockActual\": 100,\n  \"stockMinimo\": 10,\n  \"idProveedor\": 1,\n  \"activo\": true\n}"
            }
          },
          "response": []
        },
        {
          "name": "Toggle Activo (DELETE)",
          "request": { "method": "DELETE", "header": [], "url": { "raw": "{{baseUrl}}/productos/1", "host": ["{{baseUrl}}"], "path": ["productos","1"] } },
          "response": []
        },
        {
          "name": "Stock Bajo",
          "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/productos/stock-bajo", "host": ["{{baseUrl}}"], "path": ["productos","stock-bajo"] } },
          "response": []
        }
      ]
    },
    {
      "name": "Clientes",
      "item": [
        { "name": "Listar", "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/clientes", "host": ["{{baseUrl}}"], "path": ["clientes"] } }, "response": [] },
        { "name": "Obtener por ID", "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/clientes/1", "host": ["{{baseUrl}}"], "path": ["clientes","1"] } }, "response": [] },
        { "name": "Crear", "request": { "method": "POST", "header": [{"key":"Content-Type","value":"application/json"}], "url": { "raw": "{{baseUrl}}/clientes", "host": ["{{baseUrl}}"], "path": ["clientes"] }, "body": {"mode":"raw","raw":"{\n  \"nombre\": \"Nuevo Cliente\",\n  \"telefono\": \"555-999\",\n  \"esMayorista\": false,\n  \"limiteCredito\": 0,\n  \"saldoCredito\": 0,\n  \"estaBloqueado\": false\n}"} }, "response": [] },
        { "name": "Actualizar", "request": { "method": "PUT", "header": [{"key":"Content-Type","value":"application/json"}], "url": { "raw": "{{baseUrl}}/clientes/1", "host": ["{{baseUrl}}"], "path": ["clientes","1"] }, "body": {"mode":"raw","raw":"{\n  \"nombre\": \"Cliente Editado\",\n  \"telefono\": \"555-000\",\n  \"esMayorista\": true,\n  \"limiteCredito\": 1000,\n  \"saldoCredito\": 0,\n  \"estaBloqueado\": false\n}"} }, "response": [] },
        { "name": "Eliminar", "request": { "method": "DELETE", "url": { "raw": "{{baseUrl}}/clientes/1", "host": ["{{baseUrl}}"], "path": ["clientes","1"] } }, "response": [] }
      ]
    },
    {
      "name": "Proveedores",
      "item": [
        { "name": "Listar", "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/proveedores", "host": ["{{baseUrl}}"], "path": ["proveedores"] } }, "response": [] },
        { "name": "Obtener por ID", "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/proveedores/1", "host": ["{{baseUrl}}"], "path": ["proveedores","1"] } }, "response": [] },
        { "name": "Crear", "request": { "method": "POST", "header": [{"key":"Content-Type","value":"application/json"}], "url": { "raw": "{{baseUrl}}/proveedores", "host": ["{{baseUrl}}"], "path": ["proveedores"] }, "body": {"mode":"raw","raw":"{\n  \"nombre\": \"Nuevo Proveedor\",\n  \"telefono\": \"555-123\",\n  \"direccion\": \"Calle 123\",\n  \"esNacional\": true\n}"} }, "response": [] },
        { "name": "Actualizar", "request": { "method": "PUT", "header": [{"key":"Content-Type","value":"application/json"}], "url": { "raw": "{{baseUrl}}/proveedores/1", "host": ["{{baseUrl}}"], "path": ["proveedores","1"] }, "body": {"mode":"raw","raw":"{\n  \"nombre\": \"Proveedor Editado\",\n  \"telefono\": \"555-222\",\n  \"direccion\": \"Av 456\",\n  \"esNacional\": false\n}"} }, "response": [] },
        { "name": "Eliminar", "request": { "method": "DELETE", "url": { "raw": "{{baseUrl}}/proveedores/1", "host": ["{{baseUrl}}"], "path": ["proveedores","1"] } }, "response": [] }
      ]
    },
    {
      "name": "Ventas",
      "item": [
        {
          "name": "Registrar Venta",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "url": { "raw": "{{baseUrl}}/ventas", "host": ["{{baseUrl}}"], "path": ["ventas"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"tipo\": \"MOSTRADOR\",\n  \"idCliente\": 1,\n  \"items\": [\n    { \"idProducto\": 1, \"cantidad\": 2 },\n    { \"idProducto\": 3, \"cantidad\": 1 }\n  ],\n  \"pago\": { \"metodo\": \"EFECTIVO\", \"monto\": 200, \"denominacion\": 200 }\n}"
            }
          },
          "response": []
        },
        {
          "name": "Registrar Venta (MAYOREO)",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "url": { "raw": "{{baseUrl}}/ventas", "host": ["{{baseUrl}}"], "path": ["ventas"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"tipo\": \"MAYOREO\",\n  \"idCliente\": 2,\n  \"items\": [\n    { \"idProducto\": 1, \"cantidad\": 10 },\n    { \"idProducto\": 2, \"cantidad\": 5 }\n  ],\n  \"pago\": { \"metodo\": \"EFECTIVO\", \"monto\": 500, \"denominacion\": 500 }\n}"
            }
          },
          "response": []
        },
        {
          "name": "Registrar Venta (FIADO)",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "url": { "raw": "{{baseUrl}}/ventas", "host": ["{{baseUrl}}"], "path": ["ventas"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"tipo\": \"FIADO\",\n  \"idCliente\": 2,\n  \"items\": [\n    { \"idProducto\": 1, \"cantidad\": 1 }\n  ]\n}"
            }
          },
          "response": []
        },
        {
          "name": "Listar Ventas",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/ventas?inicio=2024-01-01&fin=2024-12-31",
              "host": ["{{baseUrl}}"],
              "path": ["ventas"],
              "query": [
                { "key": "inicio", "value": "2024-01-01" },
                { "key": "fin", "value": "2024-12-31" }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Obtener Venta por ID",
          "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/ventas/1", "host": ["{{baseUrl}}"], "path": ["ventas","1"] } },
          "response": []
        }
      ]
    },
    {
      "name": "Pagos Venta",
      "item": [
        {
          "name": "Registrar Pago de Venta",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "url": { "raw": "{{baseUrl}}/pagos-venta", "host": ["{{baseUrl}}"], "path": ["pagos-venta"] },
            "body": { "mode": "raw", "raw": "{\n  \"idVenta\": 1,\n  \"metodo\": \"EFECTIVO\",\n  \"monto\": 50\n}" }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Compras",
      "item": [
        {
          "name": "Registrar Compra",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "url": { "raw": "{{baseUrl}}/compras", "host": ["{{baseUrl}}"], "path": ["compras"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"idProveedor\": 1,\n  \"estado\": \"ABIERTA\",\n  \"items\": [\n    { \"idProducto\": 1, \"cantidad\": 10, \"costoUnitario\": 18.00, \"fechaVencimiento\": \"2026-12-31\" },\n    { \"idProducto\": 2, \"cantidad\": 5, \"costoUnitario\": 20.00 }\n  ]\n}"
            }
          },
          "response": []
        },
        {
          "name": "Listar Compras",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/compras?inicio=2024-01-01&fin=2024-12-31",
              "host": ["{{baseUrl}}"],
              "path": ["compras"],
              "query": [
                { "key": "inicio", "value": "2024-01-01" },
                { "key": "fin", "value": "2024-12-31" }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Obtener Compra por ID",
          "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/compras/1", "host": ["{{baseUrl}}"], "path": ["compras","1"] } },
          "response": []
        }
      ]
    },
    {
      "name": "Pagos Compra",
      "item": [
        {
          "name": "Registrar Pago de Compra",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "url": { "raw": "{{baseUrl}}/pagos-compra", "host": ["{{baseUrl}}"], "path": ["pagos-compra"] },
            "body": { "mode": "raw", "raw": "{\n  \"idCompra\": 1,\n  \"metodo\": \"TRANSFERENCIA\",\n  \"monto\": 100\n}" }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Mermas",
      "item": [
        {
          "name": "Registrar Merma",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "url": { "raw": "{{baseUrl}}/mermas", "host": ["{{baseUrl}}"], "path": ["mermas"] },
            "body": { "mode": "raw", "raw": "{\n  \"idProducto\": 1,\n  \"idLote\": 1,\n  \"cantidad\": 1,\n  \"motivo\": \"Da침o en empaque\"\n}" }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Caducidades",
      "item": [
        {
          "name": "Por Vencer",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/caducidades/por-vencer?dias=30",
              "host": ["{{baseUrl}}"],
              "path": ["caducidades","por-vencer"],
              "query": [ { "key": "dias", "value": "30" } ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Devoluciones Proveedor",
      "item": [
        {
          "name": "Registrar Devoluci칩n",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "url": { "raw": "{{baseUrl}}/devoluciones-proveedor", "host": ["{{baseUrl}}"], "path": ["devoluciones-proveedor"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"idProveedor\": 1,\n  \"motivo\": \"Producto defectuoso\",\n  \"items\": [\n    { \"idProducto\": 1, \"cantidad\": 1, \"idLote\": 1 }\n  ]\n}"
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Fiados",
      "item": [
        {
          "name": "Clientes con Saldo",
          "request": { "method": "GET", "url": { "raw": "{{baseUrl}}/fiados/clientes", "host": ["{{baseUrl}}"], "path": ["fiados","clientes"] } },
          "response": []
        },
        {
          "name": "Abonar a Cliente",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "url": { "raw": "{{baseUrl}}/fiados/abono", "host": ["{{baseUrl}}"], "path": ["fiados","abono"] },
            "body": { "mode": "raw", "raw": "{\n  \"idCliente\": 2,\n  \"monto\": 100\n}" }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Reportes",
      "item": [
        {
          "name": "Ventas (Resumen)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/reportes/ventas?tipo=mensual&fecha=2024-12-01",
              "host": ["{{baseUrl}}"],
              "path": ["reportes","ventas"],
              "query": [ { "key": "tipo", "value": "mensual" }, { "key": "fecha", "value": "2024-12-01" } ]
            }
          },
          "response": []
        },
        {
          "name": "M치s Vendidos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/reportes/mas-vendidos?tipo=mensual&fecha=2024-12-01",
              "host": ["{{baseUrl}}"],
              "path": ["reportes","mas-vendidos"],
              "query": [ { "key": "tipo", "value": "mensual" }, { "key": "fecha", "value": "2024-12-01" } ]
            }
          },
          "response": []
        },
        {
          "name": "Utilidades",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/reportes/utilidades?tipo=mensual&fecha=2024-12-01",
              "host": ["{{baseUrl}}"],
              "path": ["reportes","utilidades"],
              "query": [ { "key": "tipo", "value": "mensual" }, { "key": "fecha", "value": "2024-12-01" } ]
            }
          },
          "response": []
        },
        {
          "name": "Exportar CSV (Excel)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/reportes/export/excel?tipo=mensual&fecha=2024-12-01",
              "host": ["{{baseUrl}}"],
              "path": ["reportes","export","excel"],
              "query": [ { "key": "tipo", "value": "mensual" }, { "key": "fecha", "value": "2024-12-01" } ]
            }
          },
          "response": []
        },
        {
          "name": "Exportar PDF (Mock)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/reportes/export/pdf?tipo=mensual&fecha=2024-12-01",
              "host": ["{{baseUrl}}"],
              "path": ["reportes","export","pdf"],
              "query": [ { "key": "tipo", "value": "mensual" }, { "key": "fecha", "value": "2024-12-01" } ]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [ { "key": "token", "value": "{{token}}", "type": "string" } ]
  },
  "event": [],
  "variable": []
}
